

映射过程
1. 准备纹理图像
2. 配置纹理映射方式
3. 加载纹理图像 对其配置
4. 在片元着色器中相应的纹素从纹理中取出，将纹素的颜色赋给片元



### 纹理坐标系统



#### 纹理放大滤波器
![[Pasted image 20241210193857.png]]

- 值
	- `gl.LINEAR` (默认值)
	- `gl.NEAREST`


##### gl.LINEAR
取最近四个素纹的颜色，做双线性插值计算出结果
```js
// 同样位置(100, 75)
u = 0.4
v = 0.5
// 计算四个最近的纹素位置
x1 = Math.floor(u * 32)    // = 12
x2 = Math.ceil(u * 32)     // = 13
y1 = Math.floor(v * 32)    // = 16
y2 = Math.ceil(v * 32)     // = 17

// 获取四个纹素的颜色
c11 = sourceTexture[y1][x1]
c12 = sourceTexture[y1][x2]
c21 = sourceTexture[y2][x1]
c22 = sourceTexture[y2][x2]

// 计算权重
wx = (u * 32) - x1  // 水平方向的插值权重
wy = (v * 32) - y1  // 垂直方向的插值权重

// 双线性插值计算最终颜色
color = lerp(
    lerp(c11, c12, wx),
    lerp(c21, c22, wx),
    wy
)
```

##### gl.NEAREST
直接使用最近素纹的颜色

```js
// 假设目标位置在(100, 75)
u = 100/250 = 0.4  // UV坐标
v = 75/150 = 0.5
sourceX = Math.floor(u * 32) // = 12  原始纹理中的位置
sourceY = Math.floor(v * 32) // = 16
color = sourceTexture[sourceY][sourceX]  // 直接使用这个颜色
```

#### 纹理缩小滤波器
- 值：
	- `gl.LINEAR`（双线性插值）
	- `gl.NEAREST`
	- `gl.NEAREST_MIPMAP_NEAREST`
	- `gl.LINEAR_MIPMAP_NEAREST`
	- `gl.NEAREST_MIPMAP_LINEAR` (默认值)
	- `gl.LINEAR_MIPMAP_LINEAR`（三线性过滤）


纬度一：NEAREST/LINEAR
NEAREST：直接取最近的点
LINEAR：取周围四个点做双线性插值
纬度二：MIPMAP_NEAREST/MIPMAP_LINEAR
MIPMAP_NEAREST：选择最近的一个MIPMAP级别
MIPMAP_LINEAR：选择最近的两个MIPMAP级别并在他们之间做插值

`gl.NEAREST_MIPMAP_NEAREST`

// 1. MIPMAP_NEAREST: 四舍五入到最近的级别
// 2. NEAREST: 在这个MIPMAP上使用最近点采样

`gl.LINEAR_MIPMAP_NEAREST`

// 1. MIPMAP_NEAREST：四舍五入到最近的级别
// 2. LINEAR：在这个MIPMAP上使用双线行插值

`gl.NEAREST_MIPMAP_LINEAR` (默认值)

// 1. MIPMAP_LINEAR：使用2.7前后的两个级别（2、3）
// 2. NEAREST：在每个级别上使用最近点采样，在两个颜色之间插值


`gl.LINEAR_MIPMAP_LINEAR`（三线性过滤）

// 1. MIPMAP_LINEAR：使用2.7前后的两个级别（2、3）
// 2. LINEAR：在每个级别上都做双线行插值，在两个结果之间插值


#### 扩展

##### 图像金字塔

![[Pasted image 20241210193758.png]]






